{% extends 'base.html.twig' %}

{% block title %}Snowtricks home{% endblock %}

{% block content %}
    <div class="container-fluid">
        {{ block("slider", "parts/home_slider_block.html.twig") }}
    </div>
    <div id="forTricks" class="container mx-auto row my-3 ">
        {% for trick in tricks  %}
            <div id="{{ trick.id }}" class=" mb-2 col-sm-6 col-md-4 col-lg-3 trick">
                <h3 class="text-center trick_title">{{ trick.title }}</h3>
                {% for  image in trick.images %}
                    {% if loop.first %}<img src="{{ asset(image.path) }}" class="card-img-top img_trick" alt="...">{% endif %}
                {% endfor %}
                <div class="card-body">

                    {% autoescape %}
                        {{ trick.description|raw|slice(0,50)}}...
                    {% endautoescape %}
                    <a class="float-right" href="" title="voir {{ trick.title }}">Voir plus</a>
                </div>
            </div>
        {% endfor %}
    </div>

</div>
{% endblock %}
{% block customJavascripts %}
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/js/bootstrap.min.js" integrity="sha384-3qaqj0lc6sV/qpzrc1N5DC6i1VRn/HyX4qdPaiEFbn54VjQBEU341pvjz7Dv3n6P" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.9/summernote-bs4.js"></script>
    <script>
        var width = document.body.clientWidth;
        var left = 0;
        var max_length = document.getElementsByClassName('trick_item').length;
        function moveToLeft(item){
            for ($i = 0 ; $i<=5; $i++){
                $elem = document.getElementById(item+(left+$i)).style.display = "block";
            }
            left= left+1;
        }
        console.log(width);
        if(width <= 850){
            $("#media_container").removeClass('container flex desk');
            $("#media_container").addClass('div-only-mobile');
        } else {
            $("#media_container").removeClass('div-only-mobile');
            $("#media_container").addClass('container flex desk');
        }
        $(function() Â {
            $(".btn-add").on("click", function () {
                var placeholder = $($(this).data("target"));
                var prototype = placeholder.data("prototype");
                var index = placeholder.data("index");

                placeholder.append(prototype.replace(/__name__/g, index));

                index++;

                placeholder.data("index", index);
            });

            $("body").on("click", ".btn-remove", function () {
                $($(this).data("target")).remove();
            });
        });
        function MoveOnCover(imgSrc) {
            document.getElementById('showImg').src = "{{ asset('uploads/') }}"+imgSrc;
        }

        function myFunction() {
            var x = document.getElementsByClassName("div-only-mobile");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }
    </script>
{% endblock %}